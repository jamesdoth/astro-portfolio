---

---

<script>
    // const night = document.querySelectorAll<HTMLElement>(".night");
    // const day = document.querySelectorAll<HTMLElement>(".day");
    // const sunset = document.querySelectorAll<HTMLElement>(".sunset");

    // const animate = () => {
    //     return new Promise((resolve) => {
    //         night.forEach((night) => {
    //             night.animate([{ opacity: 1 }, { opacity: 0 }], {
    //                 duration: 5000,
    //                 fill: "forwards",
    //                 easing: "linear",
    //             }).onfinish = () => {
    //                 day.forEach((day) => {
    //                     day.animate([{ opacity: 1 }, { opacity: 0 }], {
    //                         duration: 5000,
    //                         fill: "forwards",
    //                         easing: "linear",
    //                     }).onfinish = () => {
    //                         sunset.forEach((sunset) => {
    //                             sunset.animate(
    //                                 [{ opacity: 1 }, { opacity: 0 }],
    //                                 {
    //                                     duration: 5000,
    //                                     fill: "forwards",
    //                                     easing: "linear",
    //                                 },
    //                             ).onfinish = resolve;
    //                         });
    //                     };
    //                 });
    //             };
    //         });
    //     });
    // };

    // const resetAnimate = () => {
    //     return new Promise((resolve) => {
    //         night.forEach((night) => {
    //             night.animate([{ opacity: 0 }, { opacity: 1 }], {
    //                 duration: 0,
    //                 fill: "forwards",
    //                 easing: "linear",
    //             }).onfinish = () => {
    //                 day.forEach((day) => {
    //                     day.animate([{ opacity: 0 }, { opacity: 1 }], {
    //                         duration: 0,
    //                         fill: "forwards",
    //                         easing: "linear",
    //                     }).onfinish = () => {
    //                         sunset.forEach((sunset) => {
    //                             sunset.animate(
    //                                 [{ opacity: 0 }, { opacity: 1 }],
    //                                 {
    //                                     duration: 0,
    //                                     fill: "forwards",
    //                                     easing: "linear",
    //                                 },
    //                             ).onfinish = resolve;
    //                         });
    //                     };
    //                 });
    //             };
    //         });
    //     });
    // };

    // const playAnimations = async () => {
    //     while (true) {
    //         await animate();
    //         await resetAnimate();
    //     }
    // };

    // if (night.length && day.length && sunset.length) {
    //     playAnimations();
    // }

    const element = document.querySelector(".clouds");

    function updateAnimation() {
        const screenHeight = window.innerHeight;

        // to get image ratio. get window screen height / image width inside container = image ratio
        // image width = screen height / image ratio

        const imageWidth = screenHeight / 2.5;

        console.log(`imageWidth: ${imageWidth}px`);

        const keyframes = [
            { backgroundPosition: `0 0` },
            { backgroundPosition: `${imageWidth}px 0` },
        ];

        const animation = element?.animate(keyframes, {
            duration: 5000,
            iterations: Infinity,
            easing: "linear",
        });
    }

    updateAnimation();

    window.addEventListener("resize", updateAnimation);
</script>
